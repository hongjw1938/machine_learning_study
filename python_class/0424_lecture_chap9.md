## 데이터 수집과 그룹 연산
    - 하나 이상의 키를 이용해 pandas 객체를 여러 조각으로 나누기
    - 그룹 요약 통계 계산
    - DataFrame의 각 칼럼에 다양한 함수 적용
    - 정규화, 선형 회귀, 등급 똔느 부분집합 선택 같은 집단 내 변형이나 다른 조작 적용
    - 피벗 테이블, 교차일람표 구하기
    - 변위치 분석, 다른 데이터 파생 집단 분석 수행
>###    9.1 GroupBy 메카닉
        - split-apply-combine
        - DataFrame을 로우 혹은 칼럼으로 분리하고, 함수를 각 그룹에 적용시켜 새로이 얻은 후 함수를 적용한 결과를 하나의 객체로 결합
        * 그룹의 색인
            - 그룹으로 묶을 축과 같은 길이의 리스트나 배열
            - DataFrame의 칼럼 이름을 지칭하는 값
            - 그룹으로 묶을 값과 그룹 이름에 대응하는 사전이나 Series 객체
            - 축 색인 혹은 색인 내의 개별 이름에 대해 실행되는 함수
        * 성가신 칼럼
            - 집계함수나 통계함수를 사용시에 key값으로 사용되지 않은 컬럼 중에서도 제외되는 경우가 있음
            - 이 칼럼은 성가신 칼럼이라고 불리며, 숫자 데이터를 가진 칼럼이 아니라서 그러하다.
            - 결과에서 제외된다.
        1. 그룹 간 순회하기
            - GroupBy객체는 이터레이션을 지원
            - 그룹 이름과 그에 따른 데이터 묵음을 튜플로 반환
            - dtype에 따라 GroupBy도 가능하다.
        2. 칼럼 또는 칼럼의 일부만 선택하기
            - 칼럼 이름이나 칼럼 이름이 담긴 배열로 색인하면 해당 칼럼이 선택된다.
            - ex) df.groupby('key1')['data1']
            - groupby메서드에 리스트나 배열을 넘기면 DataFrameGroupBy객체
            - groupby메서드에 단일 값으로 칼럼 이름 하나만 넘기면 SeriesGroupBy객체
        3. 사전과 Series에서 묶기
            - 사전과 Series로도 groupby가 가능하다.
        4. 함수로 묶기
            - 파이썬 함수를 이용해 그룹 매핑이 가능하다.
            - 그룹 색인으로 넘긴 함수는 색인 값 하나하나마다 한 번씩 호출된다.
            - 반환 값은 그 그룹의 이름으로 사용된다.
            - 만약, 이름의 길이별로 그룹을 묶고 싶은 경우 이름의 길이가 담긴 배열을 만들어 넘기는 대신 len함수만 넘긴다
                - people.groupby(len).sum()
            - 어차피 모두 배열로 반환되기에, 함수와 배열, 사전 또는 Series를 함께 섞어 써도 문제가 없다.
        5. 색인 단계로 묶기
            - 계층적으로 색인된 데이터 묶음은 축 색인의 단계 중 하나를 사용해 편리하게 모으는 기능 제공
            - level인자를 통해 레벨 번호나 이름을 넘긴다.
>###    9.2 데이터 수집
        - GroupBy객체에 대해 요약 통계 수집
        - 자신만의 데이터 집계 함수(사용자 정의 함수)를 사용시, 배열의 agg, aggregate메서드에 해당 함수명을 넣으면 된다.
        - 그러나 사용자정의 함수를 사용할 경우, 수행이 느릴 수 있다.(오버헤드 발생)
        1. 칼럼에 여러 가지 함수 적용하기
            - 칼럼에 따라 여러 다른 함수를 사용해 집계를 수행하거나 여러 개의 함수를 한 번에 적용하고 싶은 경우
            - 튜플로 함수를 넘기면 각 튜플의 첫 인자는 칼럼의 이름으로 사용된다.
        2. 색인되지 않은 형태로 집계된 데이터 반환
            - as_index=False를 넘겨 색인되지 않도록 할 수 있다.
            - 혹은 reset_index를 통해 같은 결과를 얻을 수도 있다.
>###    9.3 그룹별 연산과 변형
        - 다양한 그룹 연산 : transform, apply메서드
        1. apply : 분리-적용-병합
            - 사용자 정의 혹은 모듈의 함수를 apply의 인자로 전달
            - 함수의 추가 인자가 있을 경우 apply에 추가해서 인자로 전달
            * 그룹 색인 생략 : group_keys=False로 인자를 넘긴다.
        2. 변위치 분석과 버킷 분석
            - 표본 변위치에 따라 데이터 나누기
            - groupby와 cut/qcut함수의 조합
        3. 예제: 그룹에 국한된 값으로 누락 값 채우기
            - 누락 데이터 정리시 dropna를 사용하는 경우가 많지만, 누락값을 고정값이나 데이터로부터 도출된 어떤 값으로 채우고 싶은 경우
            - fillna메서드 사용
            - 그룹별로 apply하고 싶은 값이 다른 경우 fillna를 apply함수를 사용해 적용시킨다.
        4. 예제: 랜덤 표본과 수열
            - permutation함수를 통해 대용량 데이터에서 특정 표본 셋을 뽑을 수 있다.
        5. 예제: 그룹 가중 평균과 상관관계
>###    9.4 피벗 테이블과 교차일람표
        - groupby기능을 사용해 계층적 색인을 활용한 재형성 연산 가능
        - pivot_table메서드(dataframe) - pandas의 최상위 함수임.
        - 마진으로 부분합을 추가할 수 있다.(margins=True), 평균이 default
        - 부분합에 다른 함수를 원하면 aggfunc에 다른 함수를 지정
            